<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Workday XPath cheat sheet (for Entra provisioning mappings)</title>
  <meta name="description" content="Why XPath shows up in Workday provisioning, what breaks when API versions change, and how to fix safely."/>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;line-height:1.55;margin:0;color:#111;background:#fff;}
    header,main{max-width:1050px;margin:0 auto;padding:0 1.1rem;}
    header{padding:2rem 0 1rem;}
    a{color:#2563eb;text-decoration:none} a:hover{text-decoration:underline}
    .muted{color:#555}
    .nav{margin-top:.7rem}
    .nav a{margin-right:.75rem}
    h1{margin:.15rem 0 .25rem;font-size:2rem}
    h2{margin:1.35rem 0 .55rem;font-size:1.35rem}
    h3{margin:1.05rem 0 .45rem;font-size:1.1rem}
    .card{border:1px solid #e8e8e8;border-radius:14px;padding:1rem 1.1rem;margin:.9rem 0;background:#fff}
    .callout{border-left:4px solid #2563eb;background:#eff6ff;border-radius:10px;padding:.85rem .95rem;color:#1f2937;margin:.9rem 0}
    .callout.warn{border-left-color:#b91c1c;background:#fef2f2}
    .callout.note{border-left-color:#0f766e;background:#ecfdf5}
    pre{background:#0b1020;color:#e5e7eb;padding:.9rem 1rem;border-radius:12px;overflow:auto}
    code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:.95em}
    ul,ol{padding-left:1.25rem}
    .k{display:inline-block;padding:.15rem .5rem;border:1px solid #e8e8e8;border-radius:999px;color:#444;margin-right:.35rem;font-size:.9rem}
    footer{padding:2rem 0 3rem}
    .grid2{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:1rem}
    .small{font-size:.95em}
  </style>
</head>
<body>
<header>
  <a href="../index.html">← portfolio home</a>
  <div class="nav">
    <a href="../notes.html">Field Notes / KB hub</a>
  </div>
  <h1>Workday XPath cheat sheet (for Entra provisioning mappings)</h1>
  <div class="muted">Why XPath shows up in Workday provisioning, what breaks when API versions change, and how to fix safely.</div>
  <div class="callout"><strong>* Under active development:</strong> this runbook is being expanded with sanitized artifacts, log excerpts, and script snippets.</div>
</header>
<main>
<section class="card">
  <h2>Why XPath exists in Workday provisioning</h2>
  <p>
    Workday exposes worker data via Workday Web Services (WWS) as structured XML. Many useful fields are nested or multi-valued (emails, phones, addresses).
    XPath is how you select the correct node (example: the “Work” email, not “Home”).
  </p>

  <div class="callout note">
    XPath isn’t “advanced for fun” — it prevents wrong-but-valid mapping (the worst failure mode).
  </div>
</section>

<section class="card">
  <h2>API version gotcha (what breaks over time)</h2>
  <ul>
    <li>When Workday WWS versions change, some attribute paths can shift.</li>
    <li>Result: mappings that “worked forever” suddenly return blanks for specific fields.</li>
    <li>Fix is usually: validate source XML → update XPath → on-demand test → confirm in provisioning logs.</li>
  </ul>
</section>

<section class="card">
  <h2>How I keep XPath changes sane (auditable + reversible)</h2>
  <ol>
    <li>Export mappings before changes (so you can diff/rollback).</li>
    <li>Change one attribute at a time (start with the one failing).</li>
    <li>Validate via <strong>Provision on demand</strong> and confirm both:
      <ul>
        <li>source attribute exists</li>
        <li>target attribute gets the correct transformed value</li>
      </ul>
    </li>
  </ol>
</section>

<section class="card">
  <h2>Failure pattern to watch for</h2>
  <div class="callout warn">
    If your XPath is too broad, provisioning may succeed while writing the wrong email/phone type. That passes tests until the first real onboarding goes to the wrong contact field.
  </div>
</section>

<section class="card">
  <h2>References</h2>
  <ul class="small">
    <li><a href="https://learn.microsoft.com/en-us/entra/identity/saas-apps/workday-inbound-tutorial">Microsoft Learn: Workday inbound provisioning (mapping context)</a></li>
  </ul>
</section>
<footer class="muted">
  <div>Back to <a href="../notes.html">Field Notes / KB</a>.</div>
</footer>
</main>
</body>
</html>